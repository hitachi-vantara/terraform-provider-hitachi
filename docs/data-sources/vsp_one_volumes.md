---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hitachi_vsp_one_volumes Data Source - terraform-provider-hitachi"
subcategory: ""
description: |-
  Datasource to list volumes in VSP One storage with optional filters.
---

# hitachi_vsp_one_volumes (Data Source)

Datasource to list volumes in VSP One storage with optional filters.

## Example Usage

```terraform
#
# Hitachi VSP One Volumes Retrieval (Filtered List)
#
# This section defines a data source block that retrieves a list of existing
# volumes from the Hitachi Virtual Storage Platform One Block Administrator.
#
# The "hitachi_vsp_one_volumes" data source supports flexible filtering options,
# allowing you to narrow results by pool, server, nickname, or capacity range.
# This is useful for auditing, reporting, or referencing existing volumes in
# Terraform configurations.
#
# You can specify filtering parameters such as:
#   - pool_id or pool_name (partial match) to target specific pools
#   - server_id or server_nickname (partial match) to find volumes connected to servers
#   - nickname for partial name matching
#   - capacity ranges using min/max_total_capacity_mb or min/max_used_capacity_mb
#   - pagination controls via start_volume_id/start_volume_id_hex and requested_count
#
# Adjust the parameters to fit your environment and query requirements.
#

data "hitachi_vsp_one_volumes" "volumes" {
  serial    = var.serial_number
  pool_id   = 0
  pool_name = ""
  # server_id        = 100
  server_nickname = ""
  # nickname         = "test_volume"
  # max_total_capacity_mb = 102400
  # min_total_capacity_mb = 5120
  # max_used_capacity_mb  = 2048
  # min_used_capacity_mb  = 0
  start_volume_id = 6670
  # or
  # start_volume_id_hex = "0X19"
  requested_count = 20
}

output "volumes_info" {
  value = data.hitachi_vsp_one_volumes.volumes.volumes_info
}

output "volume_count" {
  value = data.hitachi_vsp_one_volumes.volumes.volume_count
}

output "total_count" {
  value = data.hitachi_vsp_one_volumes.volumes.total_count
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `serial` (Number) Serial number of the storage system

### Optional

- `max_total_capacity_mb` (Number) Maximum volume size in MiB (47 to 268435456).
- `max_used_capacity_mb` (Number) Maximum used capacity in MiB (0 to 268435456).
- `min_total_capacity_mb` (Number) Minimum volume size in MiB (47 to 268435456).
- `min_used_capacity_mb` (Number) Minimum used capacity in MiB (0 to 268435456).
- `nickname` (String) Filter volumes by Volume Nickname (partial match).
- `pool_id` (Number) Filter volumes by Pool ID.
- `pool_name` (String) Filter volumes by Pool Name (partial match).
- `requested_count` (Number) Number of volumes to display. Default is 500.
- `server_id` (Number) Filter volumes by Server ID.
- `server_nickname` (String) Filter volumes by Server Nickname (partial match).
- `start_volume_id` (Number) Starting Volume ID to display. Default is 0. Only one of start_volume_id or start_volume_id_hex may be specified, not both.
- `start_volume_id_hex` (String) Starting Volume ID (in hexadecimal format) to display. Default is 0. Only one of start_volume_id or start_volume_id_hex may be specified, not both.

### Read-Only

- `id` (String) The ID of this resource.
- `total_count` (Number) Total number of volumes in storage.
- `volume_count` (Number) Number of volumes returned.
- `volumes_info` (Block List) List of volumes. (see [below for nested schema](#nestedblock--volumes_info))

<a id="nestedblock--volumes_info"></a>
### Nested Schema for `volumes_info`

Read-Only:

- `capacity_saving_status` (String) Capacity reduction function status.
- `compression_acceleration` (Boolean) (Nullable) Compression accelerator enable/disable. Output if saving_setting != DISABLE.
- `is_data_reduction_share_enabled` (Boolean) (Nullable) Shared data reduction setting. Only output if saving_setting != DISABLE.
- `nickname` (String) (Nullable) Nickname.
- `number_of_connecting_servers` (Number) Number of connected servers.
- `number_of_snapshots` (Number) Number of snapshots.
- `pool_id` (Number) Pool ID.
- `pool_name` (String) (Nullable) Pool name. Not returned if the volume is in a transitional state.
- `saving_setting` (String) Capacity reduction function setting.
- `total_capacity_mb` (Number) Total capacity in MiB. Max 256TiB = 268,435,456MiB = 549,755,813,888 blocks.
- `used_capacity_mb` (Number) Used capacity in MiB. Always 0 if volume is in a transitional state.
- `volume_id` (Number) Volume ID.
- `volume_id_hex` (String) Volume ID in hexadecimal format.
- `volume_types` (List of String) Volume types.
