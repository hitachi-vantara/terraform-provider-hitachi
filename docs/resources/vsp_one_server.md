---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hitachi_vsp_one_server Resource - terraform-provider-hitachi"
subcategory: ""
description: |-
  Manage VSP One servers in Hitachi storage system
---

# hitachi_vsp_one_server (Resource)

Manage VSP One servers in Hitachi storage system

## Example Usage

```terraform
#
# Hitachi VSP One Server Management (Create / Read / Update / Delete)
#
# This section defines a resource block for creating and managing servers
# in the Hitachi Virtual Storage Platform One Block Administrator.
#
# The "hitachi_vsp_one_server" resource supports full lifecycle management (CRUD)
# of servers â€” allowing you to provision new servers, modify existing ones, and
# remove them when no longer needed. It provides detailed control over server
# configuration, OS type, and path assignments, enabling consistent automation
# of server provisioning through Terraform.
#
# ------------------------------
# About Create Operations
# ------------------------------
# The create operation provisions a new server in the storage system.
# During create:
#   - "server_id" must not be specified (it will be auto-assigned).
#   - "nickname", "os_type", and protocol can be specified.
#   - "host_groups" is optional.
#   - The created server ID and all attributes are returned.
#
# ------------------------------
# About Update Operations
# ------------------------------
# The update operation allows modification of server properties:
#   - "nickname" can be updated.
#   - "os_type" can be changed if supported.
#   - "host_groups" is optional.
#
# ------------------------------
# About Delete Operations
# ------------------------------
# The delete operation removes the server from the storage system.
# All associated configurations will be cleaned up.
#

resource "hitachi_vsp_one_server" "fc_server" {
  serial          = "12345"
  server_nickname = "MyFCServer"
  os_type         = "Linux"
  protocol        = "FC"
  is_reserved     = false

  # Either host_group_name or host_group_id must be specified, but not both.
  host_groups {
    port_id         = "CL1-A"
    host_group_name = "testhg1"
  }
  # host_groups {
  #   port_id       = "CL3-A"
  #   host_group_id = 252
  # }
}

output "server_info" {
  value = hitachi_vsp_one_server.fc_server.data
}

resource "hitachi_vsp_one_server" "isci_server" {
  serial          = "12345"
  server_nickname = "MyISCSIServer"
  os_type         = "Windows"
  protocol        = "iSCSI"
  is_reserved     = false

  # Either host_group_name or host_group_id must be specified, but not both.
  host_groups {
    port_id         = "CL2-B"
    host_group_name = "testhg2"
  }
  # host_groups {
  #   port_id       = "CL3-A"
  #   host_group_id = 253
  # }
}

output "iscsi_server_info" {
  value = hitachi_vsp_one_server.isci_server.data
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `serial` (Number) Serial number of storage system.
- `server_nickname` (String) Server nickname.

### Optional

- `data` (Block List) Server information after creation/update. (see [below for nested schema](#nestedblock--data))
- `host_groups` (Block List) Specifies the list of existing host groups to associate with the server.
  Note:
  - There is no API to remove a host group from a server.
  - Any host group listed here will be added and remain associated even if removed from the list later.
  - It is not required to keep a host group in the list after adding it, but if it remains, it will be skipped on subsequent applies.
  - After host groups are added, their names are automatically synchronized with the server nickname.
  - All host groups must already exist. (see [below for nested schema](#nestedblock--host_groups))
- `is_reserved` (Boolean) Indicates whether the server is for host group addition. If true, a server with only id and server nickname reserved for host group addition will be created.
- `keep_lun_config` (Boolean) Specify whether to delete the server information while retaining the volume assignment information during delete operations.
- `os_type` (String) OS type. Required if is_reserved is false or omitted.
- `os_type_options` (List of Number) OS type option list. If osType is specified and this attribute is omitted, a value corresponding to the specified osType is automatically set.
- `protocol` (String) Protocol. FC or iSCSI. Required if is_reserved is false or omitted.

### Read-Only

- `id` (String) Terraform resource ID in format 'serial-serverid'.

<a id="nestedblock--data"></a>
### Nested Schema for `data`

Optional:

- `has_non_fullmesh_lu_paths` (Boolean) True if any of attached volumes is not fully associated with ports which connect to the server.
- `has_unaligned_os_type_options` (Boolean) OSTypeOption mismatch flag.
- `has_unaligned_os_types` (Boolean) OSType mismatch flag.
- `is_inconsistent` (Boolean) Configuration information inconsistency flag.
- `is_reserved` (Boolean) Indicates whether the server is for host group addition. If true, indicates a server reserved only with id and server nickname for adding host groups.
- `nickname` (String) Server nickname.
- `number_of_paths` (Number) Number of registered HBAs. Maximum 32*256.
- `number_of_volumes` (Number) Number of assigned volumes.
- `os_type` (String) OS type. If is_reserved is true, Undefined. Example values: Linux, VMware, HP-UX, OpenVMS, Tru64, Solaris, NetWare, Windows, AIX, Undefined, Unknown.
- `os_type_options` (List of Number) OS type option list.
- `paths` (Block List) List of PATH information associated with HBA WWN. (see [below for nested schema](#nestedblock--data--paths))
- `protocol` (String) Protocol. FC or iSCSI. If is_reserved is true, Undefined.
- `server_id` (Number) Server ID assigned by the storage system.
- `total_capacity` (Number) Total assigned volume capacity (MiB).
- `used_capacity` (Number) Volume usage (assigned capacity) (MiB).

<a id="nestedblock--data--paths"></a>
### Nested Schema for `data.paths`

Optional:

- `hba_wwn` (String) Server HBA WWN (nullable).
- `iscsi_name` (String) Server iSCSI name (nullable).
- `port_ids` (List of String) List of assigned ports.



<a id="nestedblock--host_groups"></a>
### Nested Schema for `host_groups`

Required:

- `port_id` (String) Port ID associated with the host group.

Optional:

- `host_group_id` (Number) Host Group ID. Either host_group_id or host_group_name must be specified, but not both.
- `host_group_name` (String) Host Group Name. Either host_group_name or host_group_id must be specified, but not both.
