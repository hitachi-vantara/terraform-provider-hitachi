---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hitachi_vsp_one_pool Resource - terraform-provider-hitachi"
subcategory: ""
description: |-
  Manage VSP One pools in Hitachi storage system
---

# hitachi_vsp_one_pool (Resource)

Manage VSP One pools in Hitachi storage system

## Example Usage

```terraform
#
# Hitachi VSP One Pool Management (Create / Read / Update / Delete)
#
# This section defines a resource block for creating and managing storage pools
# in the Hitachi Virtual Storage Platform One Block Administrator.
#
# The "hitachi_vsp_one_pool" resource supports full lifecycle management (CRUD)
# of storage pools â€” allowing you to provision new pools, modify existing ones, and
# remove them when no longer needed. It provides detailed control over pool
# configuration, drive allocation, encryption settings, and capacity thresholds,
# enabling consistent automation of storage pool provisioning through Terraform.
#
# ------------------------------
# About Create Operations
# ------------------------------
# The create operation provisions a new storage pool in the storage system.
# During create:
#   - "pool_id" must not be specified (it will be auto-assigned).
#   - "name" is required and must be unique within the storage system.
#   - "drives" configuration is required and cannot be changed after creation.
#   - "encryption" setting is optional and cannot be changed after creation.
#   - The created pool ID and all attributes are returned.
#
# ------------------------------
# About Update Operations
# ------------------------------
# The update operation allows modification of pool properties:
#   - "name" can be updated.
#   - "threshold_warning" and "threshold_depletion" can be modified.
#   - Drive configuration cannot be changed after pool creation.
#   - Encryption setting cannot be changed after pool creation.
#
# ------------------------------
# About Delete Operations
# ------------------------------
# The delete operation removes the storage pool from the storage system.
# All associated volumes must be deleted before the pool can be removed.
#



# Create a pool
resource "hitachi_vsp_one_pool" "backup_pool" {
  serial     = 12345
  name       = "new-pool-1"
  encryption = false

  drive_configuration {
    drive_type_code   = "SNB5B-R1R9NC"
    data_drive_count  = 6
    raid_level        = "RAID5"
    parity_group_type = "DDP"
  }
  # For UPDATE operation : Adjusted capacity thresholds for backup pool
  # # More conservative thresholds for backup storage
  # threshold_warning   = 80
  # threshold_depletion = 90
}

output "backup_pool_info" {
  description = "Backup pool details including ID and configuration"
  value = hitachi_vsp_one_pool.backup_pool.data
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `drive_configuration` (Block List, Min: 1) The list of drives for the storage pool. Adding new drive blocks will trigger pool expansion. (see [below for nested schema](#nestedblock--drive_configuration))
- `name` (String) The name of the storage pool.
- `serial` (Number) Serial number of the storage system.

### Optional

- `data` (Block List) Pool data information. (see [below for nested schema](#nestedblock--data))
- `encryption` (Boolean) Whether encryption is enabled for the storage pool.
- `threshold_depletion` (Number) Depletion threshold for capacity usage as a percentage.
- `threshold_warning` (Number) Warning threshold for capacity usage as a percentage.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--drive_configuration"></a>
### Nested Schema for `drive_configuration`

Required:

- `data_drive_count` (Number) The number of data drives (1-1440). For RAID5: minimum 5, for RAID6: minimum 9.
- `drive_type_code` (String) The type code of the drive (12 characters, e.g., SNB5B-R1R9NC).
- `raid_level` (String) The RAID level for the drives. Supported values: RAID5, RAID6.

Optional:

- `parity_group_type` (String) The parity group type for the drives. Must be DDP.


<a id="nestedblock--data"></a>
### Nested Schema for `data`

Optional:

- `capacity_manage` (Block List) Capacity management information for the storage pool. (see [below for nested schema](#nestedblock--data--capacity_manage))
- `config_status` (List of String) Configuration status list.
- `contains_capacity_saving_volume` (Boolean) Whether the pool contains capacity saving volumes.
- `drives` (Block List) Drive information for the storage pool. (see [below for nested schema](#nestedblock--data--drives))
- `effective_capacity` (Number) The effective capacity of the storage pool in MiB.
- `encryption_status` (String) The encryption status of the storage pool.
- `free_capacity` (Number) The free capacity of the storage pool in MiB.
- `name` (String) The name of the storage pool.
- `number_of_drive_types` (Number) Number of drive types in the pool.
- `number_of_tiers` (Number) Number of tiers in the pool.
- `number_of_volumes` (Number) Number of volumes in the pool.
- `pool_id` (Number) The unique identifier of the storage pool.
- `saving_effects` (Block List) Saving effects information for the storage pool. (see [below for nested schema](#nestedblock--data--saving_effects))
- `status` (String) The current status of the storage pool.
- `total_capacity` (Number) The total capacity of the storage pool in MiB.
- `used_capacity` (Number) The used capacity of the storage pool in MiB.

<a id="nestedblock--data--capacity_manage"></a>
### Nested Schema for `data.capacity_manage`

Optional:

- `threshold_depletion` (Number) The depletion threshold for capacity usage as a percentage.
- `threshold_warning` (Number) The warning threshold for capacity usage as a percentage.
- `used_capacity_rate` (Number) The used capacity rate as a percentage.


<a id="nestedblock--data--drives"></a>
### Nested Schema for `data.drives`

Optional:

- `display_drive_capacity` (String) Capacity of the drive and unit of measurement (GB or TB)
- `drive_capacity` (Number) The capacity of individual drives in GB.
- `drive_interface` (String) The interface type of the drive.
- `drive_rpm` (String) The RPM of the drive.
- `drive_type` (String) The type of the drive.
- `locations` (List of String) Drive location identifiers.
- `number_of_drives` (Number) Number of drives of this type.
- `parity_group_type` (String) Parity group type for the drives.
- `raid_level` (String) RAID level for the drives.
- `total_capacity` (Number) Total capacity for this drive type in MiB.


<a id="nestedblock--data--saving_effects"></a>
### Nested Schema for `data.saving_effects`

Optional:

- `calculation_end_time` (String) Calculation end time.
- `calculation_start_time` (String) Calculation start time.
- `data_reduction_without_system_data` (Number) Data reduction value without system data.
- `data_reduction_without_system_data_status` (String) Data reduction status without system data.
- `efficiency_data_reduction` (Number) Data reduction efficiency.
- `efficiency_fmd_saving` (Number) FMD saving efficiency.
- `is_total_efficiency_support` (Boolean) Whether total efficiency is supported.
- `post_capacity_fmd_saving` (Number) Post-FMD saving capacity.
- `pre_capacity_fmd_saving` (Number) Pre-FMD saving capacity.
- `software_saving_without_system_data` (Number) Software saving value without system data.
- `software_saving_without_system_data_status` (String) Software saving status without system data.
- `total_efficiency` (Number) Total efficiency value.
- `total_efficiency_status` (String) Total efficiency status.
